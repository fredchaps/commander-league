import{S as ge,i as ve,s as pe,C as Ne,k as v,l as p,m as D,h as f,n as E,b as M,E as Oe,F as He,G as Le,g as P,d as K,ag as ce,I as Ve,J as Se,a as H,c as L,D as r,Q as Y,v as qe,f as je,T as Re,H as _t,ah as ue,W as ae,w as fe,ai as mt,e as et,U as bt,q as F,y as de,r as U,z as he,A as _e,K as gt,u as Ae,B as me,af as ze,aj as Fe,ak as Ue,R as be,o as ht}from"../chunks/index.8015430d.js";import{s as Be}from"../chunks/superbaseClient.4f021c0e.js";import{m as Ce}from"../chunks/stores.f3a65562.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.3f362358.js";import{t as tt}from"../chunks/stores.643e1110.js";function vt(l){let e,t,a;const n=l[9].default,s=Ne(n,l,l[8],null);return{c(){e=v("div"),s&&s.c(),this.h()},l(o){e=p(o,"DIV",{class:!0,role:!0,"aria-labelledby":!0,"data-testid":!0});var i=D(e);s&&s.l(i),i.forEach(f),this.h()},h(){E(e,"class",t="listbox "+l[1]),E(e,"role","listbox"),E(e,"aria-labelledby",l[0]),E(e,"data-testid","listbox")},m(o,i){M(o,e,i),s&&s.m(e,null),a=!0},p(o,[i]){s&&s.p&&(!a||i&256)&&Oe(s,n,o,o[8],a?Le(n,o[8],i,null):He(o[8]),null),(!a||i&2&&t!==(t="listbox "+o[1]))&&E(e,"class",t),(!a||i&1)&&E(e,"aria-labelledby",o[0])},i(o){a||(P(s,o),a=!0)},o(o){K(s,o),a=!1},d(o){o&&f(e),s&&s.d(o)}}}const pt="";function Et(l,e,t){let a,{$$slots:n={},$$scope:s}=e,{multiple:o=!1}=e,{spacing:i="space-y-1"}=e,{rounded:m="rounded-token"}=e,{active:d="variant-filled"}=e,{hover:h="hover:variant-soft"}=e,{padding:T="px-4 py-2"}=e,{labelledby:g=""}=e;return ce("multiple",o),ce("rounded",m),ce("active",d),ce("hover",h),ce("padding",T),l.$$set=_=>{t(10,e=Ve(Ve({},e),Se(_))),"multiple"in _&&t(2,o=_.multiple),"spacing"in _&&t(3,i=_.spacing),"rounded"in _&&t(4,m=_.rounded),"active"in _&&t(5,d=_.active),"hover"in _&&t(6,h=_.hover),"padding"in _&&t(7,T=_.padding),"labelledby"in _&&t(0,g=_.labelledby),"$$scope"in _&&t(8,s=_.$$scope)},l.$$.update=()=>{t(1,a=`${pt} ${i} ${m} ${e.class??""}`)},e=Se(e),[g,a,o,i,m,d,h,T,s,n]}class kt extends ge{constructor(e){super(),ve(this,e,Et,vt,pe,{multiple:2,spacing:3,rounded:4,active:5,hover:6,padding:7,labelledby:0})}}const Dt=l=>({}),lt=l=>({}),Tt=l=>({}),at=l=>({});function yt(l){let e,t=!1,a,n,s;return a=mt(l[29][0]),{c(){e=v("input"),this.h()},l(o){e=p(o,"INPUT",{type:!0,name:!0,tabindex:!0}),this.h()},h(){E(e,"type","radio"),E(e,"name",l[1]),e.__value=l[2],e.value=e.__value,E(e,"tabindex","-1"),a.p(e)},m(o,i){M(o,e,i),l[27](e),e.checked=e.__value===l[0],n||(s=[Y(e,"change",l[28]),Y(e,"click",l[23]),Y(e,"change",l[24])],n=!0)},p(o,i){i[0]&2&&E(e,"name",o[1]),i[0]&4&&(e.__value=o[2],e.value=e.__value,t=!0),(t||i[0]&1)&&(e.checked=e.__value===o[0])},d(o){o&&f(e),l[27](null),a.r(),n=!1,Re(s)}}}function It(l){let e,t,a;return{c(){e=v("input"),this.h()},l(n){e=p(n,"INPUT",{type:!0,name:!0,tabindex:!0}),this.h()},h(){E(e,"type","checkbox"),E(e,"name",l[1]),e.__value=l[2],e.value=e.__value,E(e,"tabindex","-1")},m(n,s){M(n,e,s),l[25](e),e.checked=l[4],t||(a=[Y(e,"change",l[26]),Y(e,"click",l[21]),Y(e,"change",l[22])],t=!0)},p(n,s){s[0]&2&&E(e,"name",n[1]),s[0]&4&&(e.__value=n[2],e.value=e.__value),s[0]&16&&(e.checked=n[4])},d(n){n&&f(e),l[25](null),t=!1,Re(a)}}}function st(l){let e,t;const a=l[17].lead,n=Ne(a,l,l[16],at);return{c(){e=v("div"),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var o=D(e);n&&n.l(o),o.forEach(f),this.h()},h(){E(e,"class","listbox-label-lead")},m(s,o){M(s,e,o),n&&n.m(e,null),t=!0},p(s,o){n&&n.p&&(!t||o[0]&65536)&&Oe(n,a,s,s[16],t?Le(a,s[16],o,Tt):He(s[16]),at)},i(s){t||(P(n,s),t=!0)},o(s){K(n,s),t=!1},d(s){s&&f(e),n&&n.d(s)}}}function nt(l){let e,t;const a=l[17].trail,n=Ne(a,l,l[16],lt);return{c(){e=v("div"),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var o=D(e);n&&n.l(o),o.forEach(f),this.h()},h(){E(e,"class","listbox-label-trail")},m(s,o){M(s,e,o),n&&n.m(e,null),t=!0},p(s,o){n&&n.p&&(!t||o[0]&65536)&&Oe(n,a,s,s[16],t?Le(a,s[16],o,Dt):He(s[16]),lt)},i(s){t||(P(n,s),t=!0)},o(s){K(n,s),t=!1},d(s){s&&f(e),n&&n.d(s)}}}function Bt(l){let e,t,a,n,s,o,i,m,d,h,T,g,_;function b(I,N){return I[3]?It:yt}let y=b(l),c=y(l),u=l[10].lead&&st(l);const V=l[17].default,S=Ne(V,l,l[16],null);let B=l[10].trail&&nt(l);return{c(){e=v("label"),t=v("div"),a=v("div"),c.c(),n=H(),s=v("div"),u&&u.c(),o=H(),i=v("div"),S&&S.c(),m=H(),B&&B.c(),this.h()},l(I){e=p(I,"LABEL",{});var N=D(e);t=p(N,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-selected":!0,tabindex:!0});var R=D(t);a=p(R,"DIV",{class:!0});var G=D(a);c.l(G),G.forEach(f),n=L(R),s=p(R,"DIV",{class:!0});var q=D(s);u&&u.l(q),o=L(q),i=p(q,"DIV",{class:!0});var W=D(i);S&&S.l(W),W.forEach(f),m=L(q),B&&B.l(q),q.forEach(f),R.forEach(f),N.forEach(f),this.h()},h(){E(a,"class","h-0 w-0 overflow-hidden"),E(i,"class","listbox-label-content flex-1"),E(s,"class",d="listbox-label "+l[7]),E(t,"class",h="listbox-item "+l[8]),E(t,"data-testid","listbox-item"),E(t,"role","option"),E(t,"aria-selected",l[5]),E(t,"tabindex","0")},m(I,N){M(I,e,N),r(e,t),r(t,a),c.m(a,null),r(t,n),r(t,s),u&&u.m(s,null),r(s,o),r(s,i),S&&S.m(i,null),r(s,m),B&&B.m(s,null),T=!0,g||(_=[Y(t,"keydown",l[9]),Y(t,"keydown",l[18]),Y(t,"keyup",l[19]),Y(t,"keypress",l[20])],g=!0)},p(I,N){y===(y=b(I))&&c?c.p(I,N):(c.d(1),c=y(I),c&&(c.c(),c.m(a,null))),I[10].lead?u?(u.p(I,N),N[0]&1024&&P(u,1)):(u=st(I),u.c(),P(u,1),u.m(s,o)):u&&(qe(),K(u,1,1,()=>{u=null}),je()),S&&S.p&&(!T||N[0]&65536)&&Oe(S,V,I,I[16],T?Le(V,I[16],N,null):He(I[16]),null),I[10].trail?B?(B.p(I,N),N[0]&1024&&P(B,1)):(B=nt(I),B.c(),P(B,1),B.m(s,null)):B&&(qe(),K(B,1,1,()=>{B=null}),je()),(!T||N[0]&128&&d!==(d="listbox-label "+I[7]))&&E(s,"class",d),(!T||N[0]&256&&h!==(h="listbox-item "+I[8]))&&E(t,"class",h),(!T||N[0]&32)&&E(t,"aria-selected",I[5])},i(I){T||(P(u),P(S,I),P(B),T=!0)},o(I){K(u),K(S,I),K(B),T=!1},d(I){I&&f(e),c.d(),u&&u.d(),S&&S.d(I),B&&B.d(),g=!1,Re(_)}}}const Vt="cursor-pointer -outline-offset-[3px]",St="flex space-x-4";function At(l,e,t){let a,n,s,o,{$$slots:i={},$$scope:m}=e;const d=_t(i);let{group:h}=e,{name:T}=e,{value:g}=e,{multiple:_=ue("multiple")}=e,{rounded:b=ue("rounded")}=e,{active:y=ue("active")}=e,{hover:c=ue("hover")}=e,{padding:u=ue("padding")}=e,V,S;function B(k){t(4,V=k.indexOf(g)>=0)}function I(k){const Q=h.indexOf(g);k?Q<0&&(h.push(g),t(0,h)):Q>=0&&(h.splice(Q,1),t(0,h))}function N(k){["Enter","Space"].includes(k.code)&&(k.preventDefault(),S.click())}const R=[[]];function G(k){ae.call(this,l,k)}function q(k){ae.call(this,l,k)}function W(k){ae.call(this,l,k)}function $(k){ae.call(this,l,k)}function w(k){ae.call(this,l,k)}function re(k){ae.call(this,l,k)}function X(k){ae.call(this,l,k)}function Z(k){fe[k?"unshift":"push"](()=>{S=k,t(6,S)})}function te(){V=this.checked,t(4,V)}function se(k){fe[k?"unshift":"push"](()=>{S=k,t(6,S)})}function ne(){h=this.__value,t(0,h)}return l.$$set=k=>{t(32,e=Ve(Ve({},e),Se(k))),"group"in k&&t(0,h=k.group),"name"in k&&t(1,T=k.name),"value"in k&&t(2,g=k.value),"multiple"in k&&t(3,_=k.multiple),"rounded"in k&&t(11,b=k.rounded),"active"in k&&t(12,y=k.active),"hover"in k&&t(13,c=k.hover),"padding"in k&&t(14,u=k.padding),"$$scope"in k&&t(16,m=k.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&9&&_&&B(h),l.$$.dirty[0]&24&&_&&I(V),l.$$.dirty[0]&13&&t(5,a=_?h.includes(g):h===g),l.$$.dirty[0]&12320&&t(15,n=a?y:c),t(8,s=`${Vt} ${b} ${u} ${n} ${e.class??""}`)},t(7,o=`${St}`),e=Se(e),[h,T,g,_,V,a,S,o,s,N,d,b,y,c,u,n,m,i,G,q,W,$,w,re,X,Z,te,se,ne,R]}class Me extends ge{constructor(e){super(),ve(this,e,At,Bt,pe,{group:0,name:1,value:2,multiple:3,rounded:11,active:12,hover:13,padding:14},null,[-1,-1])}}function ot(l,e,t){const a=l.slice();return a[10]=e[t],a[12]=t,a}function it(l,e,t){const a=l.slice();return a[10]=e[t],a[12]=t,a}function rt(l){let e,t,a=(l[2][0].title??"(title missing)")+"",n,s,o,i,m,d,h,T,g,_,b,y,c,u,V,S,B,I,N,R,G,q,W,$,w,re,X,Z,te=l[0].buttonTextCancel+"",se,ne,k,Q,Ge,Ee,ke,x,Pe,Je;i=new kt({props:{rounded:"rounded-none",$$slots:{default:[Ht]},$$scope:{ctx:l}}});let oe=l[4],j=[];for(let A=0;A<oe.length;A+=1)j[A]=ct(it(l,oe,A));let ie=l[4],z=[];for(let A=0;A<ie.length;A+=1)z[A]=ut(ot(l,ie,A));return{c(){e=v("div"),t=v("header"),n=F(a),s=H(),o=v("div"),de(i.$$.fragment),m=H(),d=v("div"),h=H(),T=v("div"),g=v("table"),_=v("thead"),b=v("tr"),y=v("th"),c=F("Seat"),u=H(),V=v("th"),S=F("Name"),B=H(),I=v("tbody");for(let A=0;A<j.length;A+=1)j[A].c();N=H(),R=v("form"),G=v("label"),q=v("span"),W=F("Select a winner"),$=H(),w=v("select");for(let A=0;A<z.length;A+=1)z[A].c();re=H(),X=v("footer"),Z=v("button"),se=F(te),k=H(),Q=v("button"),Ge=F("Save"),this.h()},l(A){e=p(A,"DIV",{class:!0});var O=D(e);t=p(O,"HEADER",{class:!0});var J=D(t);n=U(J,a),J.forEach(f),s=L(O),o=p(O,"DIV",{class:!0,"data-popup":!0});var C=D(o);he(i.$$.fragment,C),m=L(C),d=p(C,"DIV",{class:!0}),D(d).forEach(f),C.forEach(f),h=L(O),T=p(O,"DIV",{class:!0});var ee=D(T);g=p(ee,"TABLE",{class:!0});var De=D(g);_=p(De,"THEAD",{});var Ke=D(_);b=p(Ke,"TR",{});var Te=D(b);y=p(Te,"TH",{});var Ye=D(y);c=U(Ye,"Seat"),Ye.forEach(f),u=L(Te),V=p(Te,"TH",{});var Qe=D(V);S=U(Qe,"Name"),Qe.forEach(f),Te.forEach(f),Ke.forEach(f),B=L(De),I=p(De,"TBODY",{});var We=D(I);for(let le=0;le<j.length;le+=1)j[le].l(We);We.forEach(f),De.forEach(f),ee.forEach(f),N=L(O),R=p(O,"FORM",{class:!0});var Xe=D(R);G=p(Xe,"LABEL",{class:!0});var ye=D(G);q=p(ye,"SPAN",{});var Ze=D(q);W=U(Ze,"Select a winner"),Ze.forEach(f),$=L(ye),w=p(ye,"SELECT",{class:!0});var we=D(w);for(let le=0;le<z.length;le+=1)z[le].l(we);we.forEach(f),ye.forEach(f),Xe.forEach(f),re=L(O),X=p(O,"FOOTER",{class:!0});var Ie=D(X);Z=p(Ie,"BUTTON",{class:!0});var xe=D(Z);se=U(xe,te),xe.forEach(f),k=L(Ie),Q=p(Ie,"BUTTON",{class:!0});var $e=D(Q);Ge=U($e,"Save"),$e.forEach(f),Ie.forEach(f),O.forEach(f),this.h()},h(){E(t,"class",Gt),E(d,"class","arrow bg-surface-100-800-token"),E(o,"class","card w-48 shadow-xl py-2 z-50"),E(o,"data-popup","combobox"),E(g,"class","table table-hover"),E(T,"class","table-container"),E(w,"class","select"),E(G,"class","label"),E(R,"class","modal-form "+Pt),E(Z,"class",ne="btn "+l[0].buttonNeutral),E(Q,"class",Ee="btn "+l[0].buttonPositive),E(X,"class",ke="modal-footer "+l[0].regionFooter),E(e,"class","modal-example-form "+Rt)},m(A,O){M(A,e,O),r(e,t),r(t,n),r(e,s),r(e,o),_e(i,o,null),r(o,m),r(o,d),r(e,h),r(e,T),r(T,g),r(g,_),r(_,b),r(b,y),r(y,c),r(b,u),r(b,V),r(V,S),r(g,B),r(g,I);for(let J=0;J<j.length;J+=1)j[J]&&j[J].m(I,null);r(e,N),r(e,R),r(R,G),r(G,q),r(q,W),r(G,$),r(G,w);for(let J=0;J<z.length;J+=1)z[J]&&z[J].m(w,null);r(e,re),r(e,X),r(X,Z),r(Z,se),r(X,k),r(X,Q),r(Q,Ge),x=!0,Pe||(Je=[Y(Z,"click",function(){gt(l[0].onClose)&&l[0].onClose.apply(this,arguments)}),Y(Q,"click",l[3])],Pe=!0)},p(A,O){l=A,(!x||O&4)&&a!==(a=(l[2][0].title??"(title missing)")+"")&&Ae(n,a);const J={};if(O&16386&&(J.$$scope={dirty:O,ctx:l}),i.$set(J),O&16){oe=l[4];let C;for(C=0;C<oe.length;C+=1){const ee=it(l,oe,C);j[C]?j[C].p(ee,O):(j[C]=ct(ee),j[C].c(),j[C].m(I,null))}for(;C<j.length;C+=1)j[C].d(1);j.length=oe.length}if(O&16){ie=l[4];let C;for(C=0;C<ie.length;C+=1){const ee=ot(l,ie,C);z[C]?z[C].p(ee,O):(z[C]=ut(ee),z[C].c(),z[C].m(w,null))}for(;C<z.length;C+=1)z[C].d(1);z.length=ie.length}(!x||O&1)&&te!==(te=l[0].buttonTextCancel+"")&&Ae(se,te),(!x||O&1&&ne!==(ne="btn "+l[0].buttonNeutral))&&E(Z,"class",ne),(!x||O&1&&Ee!==(Ee="btn "+l[0].buttonPositive))&&E(Q,"class",Ee),(!x||O&1&&ke!==(ke="modal-footer "+l[0].regionFooter))&&E(X,"class",ke)},i(A){x||(P(i.$$.fragment,A),x=!0)},o(A){K(i.$$.fragment,A),x=!1},d(A){A&&f(e),me(i),ze(j,A),ze(z,A),Pe=!1,Re(Je)}}}function Ct(l){let e;return{c(){e=F("Books")},l(t){e=U(t,"Books")},m(t,a){M(t,e,a)},d(t){t&&f(e)}}}function Nt(l){let e;return{c(){e=F("Movies")},l(t){e=U(t,"Movies")},m(t,a){M(t,e,a)},d(t){t&&f(e)}}}function Ot(l){let e;return{c(){e=F("Television")},l(t){e=U(t,"Television")},m(t,a){M(t,e,a)},d(t){t&&f(e)}}}function Ht(l){let e,t,a,n,s,o,i,m,d;function h(c){l[5](c)}let T={name:"medium",value:"books",$$slots:{default:[Ct]},$$scope:{ctx:l}};l[1]!==void 0&&(T.group=l[1]),e=new Me({props:T}),fe.push(()=>Fe(e,"group",h));function g(c){l[6](c)}let _={name:"medium",value:"movies",$$slots:{default:[Nt]},$$scope:{ctx:l}};l[1]!==void 0&&(_.group=l[1]),n=new Me({props:_}),fe.push(()=>Fe(n,"group",g));function b(c){l[7](c)}let y={name:"medium",value:"television",$$slots:{default:[Ot]},$$scope:{ctx:l}};return l[1]!==void 0&&(y.group=l[1]),i=new Me({props:y}),fe.push(()=>Fe(i,"group",b)),{c(){de(e.$$.fragment),a=H(),de(n.$$.fragment),o=H(),de(i.$$.fragment)},l(c){he(e.$$.fragment,c),a=L(c),he(n.$$.fragment,c),o=L(c),he(i.$$.fragment,c)},m(c,u){_e(e,c,u),M(c,a,u),_e(n,c,u),M(c,o,u),_e(i,c,u),d=!0},p(c,u){const V={};u&16384&&(V.$$scope={dirty:u,ctx:c}),!t&&u&2&&(t=!0,V.group=c[1],Ue(()=>t=!1)),e.$set(V);const S={};u&16384&&(S.$$scope={dirty:u,ctx:c}),!s&&u&2&&(s=!0,S.group=c[1],Ue(()=>s=!1)),n.$set(S);const B={};u&16384&&(B.$$scope={dirty:u,ctx:c}),!m&&u&2&&(m=!0,B.group=c[1],Ue(()=>m=!1)),i.$set(B)},i(c){d||(P(e.$$.fragment,c),P(n.$$.fragment,c),P(i.$$.fragment,c),d=!0)},o(c){K(e.$$.fragment,c),K(n.$$.fragment,c),K(i.$$.fragment,c),d=!1},d(c){me(e,c),c&&f(a),me(n,c),c&&f(o),me(i,c)}}}function ct(l){let e,t,a=l[10].seat+"",n,s,o,i=l[10].username+"",m,d;return{c(){e=v("tr"),t=v("td"),n=F(a),s=H(),o=v("td"),m=F(i),d=H()},l(h){e=p(h,"TR",{});var T=D(e);t=p(T,"TD",{});var g=D(t);n=U(g,a),g.forEach(f),s=L(T),o=p(T,"TD",{});var _=D(o);m=U(_,i),_.forEach(f),d=L(T),T.forEach(f)},m(h,T){M(h,e,T),r(e,t),r(t,n),r(e,s),r(e,o),r(o,m),r(e,d)},p:be,d(h){h&&f(e)}}}function ut(l){let e,t=l[10].username+"",a;return{c(){e=v("option"),a=F(t),this.h()},l(n){e=p(n,"OPTION",{});var s=D(e);a=U(s,t),s.forEach(f),this.h()},h(){e.__value=l[10].username,e.value=e.__value},m(n,s){M(n,e,s),r(e,a)},p:be,d(n){n&&f(e)}}}function Lt(l){let e,t,a=l[2][0]&&rt(l);return{c(){a&&a.c(),e=et()},l(n){a&&a.l(n),e=et()},m(n,s){a&&a.m(n,s),M(n,e,s),t=!0},p(n,[s]){n[2][0]?a?(a.p(n,s),s&4&&P(a,1)):(a=rt(n),a.c(),P(a,1),a.m(e.parentNode,e)):a&&(qe(),K(a,1,1,()=>{a=null}),je())},i(n){t||(P(a),t=!0)},o(n){K(a),t=!1},d(n){a&&a.d(n),n&&f(e)}}}const Rt="card p-4 w-modal shadow-xl space-y-4",Gt="text-2xl font-bold",Pt="border border-surface-500 p-4 space-y-4 rounded-container-token";function Ft(l,e,t){let a;bt(l,Ce,g=>t(2,a=g));let{parent:n}=e;console.log(n);let s;const o={name:"Jane Doe",tel:"214-555-1234",email:"jdoe@email.com"};function i(){a[0].response&&a[0].response(o),Ce.close()}const m=[{username:"player 1",seat:1},{username:"player 2",seat:2},{username:"player 3",seat:3},{username:"player 4",seat:4}];function d(g){s=g,t(1,s)}function h(g){s=g,t(1,s)}function T(g){s=g,t(1,s)}return l.$$set=g=>{"parent"in g&&t(0,n=g.parent)},[n,s,a,i,m,d,h,T]}class Ut extends ge{constructor(e){super(),ve(this,e,Ft,Lt,pe,{parent:0})}}function ft(l,e,t){const a=l.slice();return a[8]=e[t],a[10]=t,a}function dt(l){let e,t,a=l[8].game_table+"",n,s,o,i=l[8].created_at+"",m,d,h,T;function g(){return l[2](l[8])}return{c(){e=v("tr"),t=v("td"),n=F(a),s=H(),o=v("td"),m=F(i),d=H()},l(_){e=p(_,"TR",{});var b=D(e);t=p(b,"TD",{});var y=D(t);n=U(y,a),y.forEach(f),s=L(b),o=p(b,"TD",{});var c=D(o);m=U(c,i),c.forEach(f),d=L(b),b.forEach(f)},m(_,b){M(_,e,b),r(e,t),r(t,n),r(e,s),r(e,o),r(o,m),r(e,d),h||(T=Y(e,"click",g),h=!0)},p(_,b){l=_,b&1&&a!==(a=l[8].game_table+"")&&Ae(n,a),b&1&&i!==(i=l[8].created_at+"")&&Ae(m,i)},d(_){_&&f(e),h=!1,T()}}}function Mt(l){let e,t,a,n,s,o,i,m,d,h,T,g,_=l[0],b=[];for(let y=0;y<_.length;y+=1)b[y]=dt(ft(l,_,y));return{c(){e=v("section"),t=v("div"),a=v("table"),n=v("thead"),s=v("tr"),o=v("th"),i=F("Table"),m=H(),d=v("th"),h=F("Date"),T=H(),g=v("tbody");for(let y=0;y<b.length;y+=1)b[y].c();this.h()},l(y){e=p(y,"SECTION",{});var c=D(e);t=p(c,"DIV",{class:!0});var u=D(t);a=p(u,"TABLE",{class:!0});var V=D(a);n=p(V,"THEAD",{});var S=D(n);s=p(S,"TR",{});var B=D(s);o=p(B,"TH",{});var I=D(o);i=U(I,"Table"),I.forEach(f),m=L(B),d=p(B,"TH",{});var N=D(d);h=U(N,"Date"),N.forEach(f),B.forEach(f),S.forEach(f),T=L(V),g=p(V,"TBODY",{});var R=D(g);for(let G=0;G<b.length;G+=1)b[G].l(R);R.forEach(f),V.forEach(f),u.forEach(f),c.forEach(f),this.h()},h(){E(a,"class","table table-hover"),E(t,"class","table-container")},m(y,c){M(y,e,c),r(e,t),r(t,a),r(a,n),r(n,s),r(s,o),r(o,i),r(s,m),r(s,d),r(d,h),r(a,T),r(a,g);for(let u=0;u<b.length;u+=1)b[u]&&b[u].m(g,null)},p(y,[c]){if(c&3){_=y[0];let u;for(u=0;u<_.length;u+=1){const V=ft(y,_,u);b[u]?b[u].p(V,c):(b[u]=dt(V),b[u].c(),b[u].m(g,null))}for(;u<b.length;u+=1)b[u].d(1);b.length=_.length}},i:be,o:be,d(y){y&&f(e),ze(b,y)}}}function qt(l,e,t){let a=!1,n=[];ht(()=>{s()});const s=async()=>{try{a=!0;const{data:d,error:h,status:T}=await Be.from("games").select().eq("active",!0);if(h&&T!==406)throw h;d&&(t(0,n=d),console.log(d))}catch(d){d instanceof Error&&alert(d.message)}finally{a=!1}},o={ref:Ut,props:{background:"bg-red-500"},slot:""},i=d=>{const h={type:"component",component:o,title:"Edit Game",meta:{game_id:d.id}};Ce.trigger(h)};return[n,i,d=>i(d)]}class jt extends ge{constructor(e){super(),ve(this,e,qt,Mt,pe,{})}}function zt(l){let e,t,a,n,s,o,i,m,d,h,T,g,_,b,y,c,u;return b=new jt({}),{c(){e=v("div"),t=v("div"),a=v("header"),n=v("h2"),s=F("Admin"),o=H(),i=v("div"),m=v("div"),d=v("div"),h=v("button"),T=F("Create new game"),g=H(),_=v("div"),de(b.$$.fragment),this.h()},l(V){e=p(V,"DIV",{});var S=D(e);t=p(S,"DIV",{class:!0});var B=D(t);a=p(B,"HEADER",{class:!0});var I=D(a);n=p(I,"H2",{});var N=D(n);s=U(N,"Admin"),N.forEach(f),I.forEach(f),o=L(B),i=p(B,"DIV",{class:!0});var R=D(i);m=p(R,"DIV",{class:!0});var G=D(m);d=p(G,"DIV",{class:!0});var q=D(d);h=p(q,"BUTTON",{class:!0});var W=D(h);T=U(W,"Create new game"),W.forEach(f),q.forEach(f),G.forEach(f),g=L(R),_=p(R,"DIV",{class:!0});var $=D(_);he(b.$$.fragment,$),$.forEach(f),R.forEach(f),B.forEach(f),S.forEach(f),this.h()},h(){E(a,"class","max-w-screen-md mb-8 flex justify-between"),E(h,"class","btn variant-filled-primary"),E(d,"class","bounty-card"),E(m,"class","col-span-1"),E(_,"class","col-span-2"),E(i,"class","grid grid-cols-1 md:grid-cols-3 md:gap-6 gap-y-6"),E(t,"class","py-8 px-4 mx-auto max-w-screen-xl sm:py-16 lg:px-6")},m(V,S){M(V,e,S),r(e,t),r(t,a),r(a,n),r(n,s),r(t,o),r(t,i),r(i,m),r(m,d),r(d,h),r(h,T),r(i,g),r(i,_),_e(b,_,null),y=!0,c||(u=Y(h,"click",l[1]),c=!0)},p:be,i(V){y||(P(b.$$.fragment,V),y=!0)},o(V){K(b.$$.fragment,V),y=!1},d(V){V&&f(e),me(b),c=!1,u()}}}function Jt(l){let e,t=null,a=!1;Be.auth.onAuthStateChange((m,d)=>{e=d}),ht(()=>{n()});const n=async()=>{try{a=!0;const{data:m,error:d,status:h}=await Be.from("profiles").select("username").eq("id",e==null?void 0:e.user.id).single();if(d&&h!==406)throw d;m&&(console.log(m),t=m.username)}catch(m){m instanceof Error&&alert(m.message)}finally{a=!1}},s=async()=>{try{a=!0;const{data:m,error:d,status:h}=await Be.rpc("handle_new_games");d&&h!==406&&tt.trigger({message:"Error",background:"variant-filled-error"}),d||tt.trigger({message:"Success",background:"variant-filled-success"}),m&&console.log(m)}catch(m){m instanceof Error&&alert(m.message)}finally{a=!1}},o={type:"confirm",title:"Ready to start",body:"Are you sure you wish to proceed?",response:m=>m&&s()};return[o,()=>Ce.trigger(o)]}class Zt extends ge{constructor(e){super(),ve(this,e,Jt,zt,pe,{})}}export{Zt as default};
